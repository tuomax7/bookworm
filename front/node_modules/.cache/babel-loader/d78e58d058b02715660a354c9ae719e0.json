{"ast":null,"code":"var _jsxFileName = \"/Users/tuomasnummela/Desktop/bookworm/src/components/ReadingUpdater.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ReadingUpdater = props => {\n  _s();\n\n  //Variable declarations\n  //State declarations\n  const [pagesRead, setPagesRead] = useState(0);\n  const [totalPagesOfBook, setTotalPagesOfBook] = useState(0);\n  const [bookName, setBookName] = useState('');\n  const [updatingState, setUpdatingState] = useState('start'); //Function declarations\n\n  const select = () => {\n    //Runs when a book is selected on the selector\n    setBookName(document.getElementById('bookSelector').value);\n    setUpdatingState('selected');\n  };\n\n  const newBook = () => {//Runs when \n  };\n\n  const submitReading = () => {\n    const bookSelector = document.getElementById('bookSelector');\n    const knownBook = props.books.find(book => book.name === bookName);\n\n    if (bookSelector.value === 'default') {\n      //New book\n      if (props.books.find(book => book.name === bookName)) {\n        //'New' bookName is actually the name of a book previously added\n        window.alert('Book has already been added!');\n      } else if (bookName === '') {\n        //New bookname is empty\n        window.alert('Insert a book name!');\n      } else if (totalPagesOfBook <= 0 || pagesRead <= 0 || pagesRead > totalPagesOfBook) {\n        //Invalid book page count\n        window.alert('Invalid page count!');\n      } else {\n        const newBook = {\n          'name': bookName,\n          'pages': totalPagesOfBook,\n          'pagesRead': pagesRead\n        };\n        props.setBooks(props.books.concat(newBook));\n        props.setStreak(props.streak + 1);\n        props.setTotalPages(props.totalPages + pagesRead);\n        setUpdatingState('start');\n        props.setAppState('start');\n      }\n    } else {\n      //Selected book\n      if (pagesRead <= 0 || knownBook.pagesRead + pagesRead > knownBook.pages) {\n        //Invalid book page count\n        window.alert('Invalid page count!');\n      } else {\n        knownBook.pagesRead += pagesRead;\n        props.setStreak(props.streak + 1);\n        props.setTotalPages(props.totalPages + pagesRead);\n        setUpdatingState('start');\n        props.setAppState('start');\n      }\n    } //EMPTY INPUTS\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Update read books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }, this), updatingState !== 'new' && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Select book:\", /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"bookSelector\",\n        defaultValue: \"default\",\n        onChange: select,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"default\",\n          disabled: true,\n          hidden: true,\n          children: \"Choose here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 5\n        }, this), props.books.map(book => /*#__PURE__*/_jsxDEV(\"option\", {\n          children: book.name\n        }, book.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 32\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }, this), updatingState !== 'selected' && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"... or add a new one: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"book name here...\",\n        onChange: event => setBookName(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"page count here...\",\n        onChange: event => setTotalPagesOfBook(Number(event.target.value))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Pages read: \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"read pages here...\",\n        onChange: event => setPagesRead(Number(event.target.value))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submitReading,\n      children: \"Submit pages read!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ReadingUpdater, \"tSXsLQKJXl6WnPmvDlJUQEa1o7U=\");\n\n_c = ReadingUpdater;\nexport default ReadingUpdater;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReadingUpdater\");","map":{"version":3,"sources":["/Users/tuomasnummela/Desktop/bookworm/src/components/ReadingUpdater.js"],"names":["React","useState","ReadingUpdater","props","pagesRead","setPagesRead","totalPagesOfBook","setTotalPagesOfBook","bookName","setBookName","updatingState","setUpdatingState","select","document","getElementById","value","newBook","submitReading","bookSelector","knownBook","books","find","book","name","window","alert","setBooks","concat","setStreak","streak","setTotalPages","totalPages","setAppState","pages","map","event","target","Number"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useState } from 'react';\n\nconst ReadingUpdater = (props) => {\n\n\n\t//Variable declarations\n\n\n\t//State declarations\n\tconst [ pagesRead, setPagesRead ] = useState(0);\n\tconst [ totalPagesOfBook, setTotalPagesOfBook ] = useState(0);\n\tconst [ bookName, setBookName ] = useState('');\n\tconst [ updatingState, setUpdatingState ] = useState('start');\n\n\t//Function declarations\n\n\tconst select = () => {\n\t\t//Runs when a book is selected on the selector\n\t\tsetBookName(document.getElementById('bookSelector').value);\n\t\tsetUpdatingState('selected');\n\t}\n\n\tconst newBook = () => {\n\t\t//Runs when \n\t}\n\n\n\n\tconst submitReading = () => {\n\n\t\tconst bookSelector = document.getElementById('bookSelector');\n\n\t\tconst knownBook = props.books.find(book => book.name === bookName);\n\n\n\t\tif(bookSelector.value === 'default'){\n\t\t\t//New book\n\n\t\t\tif(props.books.find((book) => book.name === bookName)){\n\t\t\t\t//'New' bookName is actually the name of a book previously added\n\t\t\t\twindow.alert('Book has already been added!')\n\n\t\t\t}else if(bookName === ''){\n\t\t\t\t//New bookname is empty\n\t\t\t\twindow.alert('Insert a book name!')\n\n\t\t\t}else if(totalPagesOfBook <= 0 || pagesRead <= 0 || pagesRead > totalPagesOfBook){\n\t\t\t\t//Invalid book page count\n\t\t\t\twindow.alert('Invalid page count!')\n\n\t\t\t}else{\n\t\t\t\tconst newBook = {\n\t\t\t\t\t'name': bookName,\n\t\t\t\t\t'pages': totalPagesOfBook,\n\t\t\t\t\t'pagesRead': pagesRead\n\t\t\t\t}\n\n\t\t\t\tprops.setBooks(props.books.concat(newBook));\n\n\t\t\t\tprops.setStreak(props.streak+1);\n\t\t\t\tprops.setTotalPages(props.totalPages+pagesRead);\n\t\t\t\tsetUpdatingState('start');\n\t\t\t\tprops.setAppState('start');\n\t\t\t}\n\t\t}else{\n\t\t\t//Selected book\n\t\t\tif(pagesRead <= 0 || knownBook.pagesRead+pagesRead > knownBook.pages){\n\t\t\t\t//Invalid book page count\n\t\t\t\twindow.alert('Invalid page count!')\n\t\t\t}else{\n\t\t\t\tknownBook.pagesRead += pagesRead;\n\n\t\t\t\tprops.setStreak(props.streak+1);\n\t\t\t\tprops.setTotalPages(props.totalPages+pagesRead);\n\t\t\t\tsetUpdatingState('start');\n\t\t\t\tprops.setAppState('start')\n\t\t\t}\n\n\t\t}\n\n\n\t\t//EMPTY INPUTS\n\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{/*Later change book selection to dropdown-menu*/}\n\t\t\t<h3>Update read books</h3>\n\n\t\t\t{updatingState !== 'new' &&\n\t\t\t(<p>Select book:\n\t\t\t<select id='bookSelector' defaultValue='default' onChange={select}>\n\t\t\t\t<option value='default' disabled hidden>Choose here</option>\n\n\t\t\t\t{props.books.map((book) => <option key={book.name}>{book.name}</option>)}\n\n\t\t\t</select>\n\t\t\t</p>)\n\t\t\t}\n\t\t\t{updatingState !== 'selected' && \n\t\t\t(<p>... or add a new one: <input type='text' placeholder='book name here...' \n\t\t\tonChange={event => setBookName(event.target.value)}/> \n\t\t\t<input type='text' placeholder='page count here...'\n\t\t\tonChange={event => setTotalPagesOfBook(Number(event.target.value))}/></p>)\n\t\t\t}\n\n\t\t\t<p>Pages read: <input type='text' placeholder='read pages here...' \n\t\t\tonChange={event => setPagesRead(Number(event.target.value))} /></p>\n\n\t\t\t<button onClick={submitReading}>Submit pages read!</button>\n\t\t</div>\n\t);\n}\n\n\nexport default ReadingUpdater"]},"metadata":{},"sourceType":"module"}